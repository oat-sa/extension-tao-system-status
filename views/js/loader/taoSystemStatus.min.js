define("taoSystemStatus/controller/routes",[],function(){"use strict";return{SystemStatus:{actions:{index:"controller/SystemStatus/index"}}}}),define("tpl!taoSystemStatus/controller/SystemStatus/reportDetailsModal",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var stack1,helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing;return buffer+='<div class="modal report-details-modal">\n    <section>\n        <h1>\n            '+(0,this.escapeExpression)((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__
)?helper.call(depth0,"Task data",options):helperMissing.call(depth0,"__","Task data",options)))+"\n        </h1>\n        ",!(stack1=(helper=helpers.data)||"function"==typeof(helper=depth0&&depth0.data)?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="\n    </section>\n</div>"})}),define("taoSystemStatus/tasksMonitoring/tasksStatistics",["jquery","lodash","i18n","ui/component","util/url","c3"],function($,_,__,component,url,c3){"use strict";var _defaults={graphConfig:{bindto:".js-tasks-graph",padding:{bottom:0,left:0},data:{x:"time",xFormat:"%Y-%m-%d %H:%M:%S",mimeType:"json",type:"line",names:{amount:__("Tasks processed"
),average:__("Average processing time, s")}},tooltip:{format:{title:function(x,y){return new Date(Date.parse(x)).toUTCString()}}},axis:{x:{type:"timeseries",tick:{format:"%H:%M"},label:{position:"bottom center"}},y:{inner:!0,label:{position:"outer-top"}}}}};return function(config){var chart,initConfig=_.merge({},_defaults,config),activityGraph={refresh:function(newConfig){chart&&(initConfig=_.merge({},initConfig,newConfig),chart.internal.config.axis_x_tick_format=initConfig.graphConfig.axis.x.tick.format,chart.axis.labels({x:initConfig.graphConfig.axis.x.label.text}),chart.load(newConfig.graphConfig.data))}};function getChartConfig(){var period,interval=$(
".js-tasks-statistics-interval").val(),data=(period=interval,$(".js-tasks-graph").data("statistics")[period]);return _.merge({},_defaults,{graphConfig:{data:{json:data},axis:{x:{tick:{format:"P1D"===interval?"%H:%M":"%m-%d"},label:{text:__("P1D"===interval?"Hours":"Days")}}}}})}return $(".js-tasks-statistics-interval").on("change",function(){activityGraph.refresh(getChartConfig())}),component(activityGraph).on("render",function(){$(".modal .js-tasks-graph-container").show(),chart=c3.generate(getChartConfig().graphConfig)}).on("destroy",function(){$(".js-tasks-graph-container").hide(),chart.destroy(),chart=null}).init(initConfig)}}),define(
"taoSystemStatus/controller/SystemStatus/index",["tpl!taoSystemStatus/controller/SystemStatus/reportDetailsModal","taoSystemStatus/tasksMonitoring/tasksStatistics"],function(layout,tasksStatisticsFactory){"use strict";var $container;return{start:function(){($container=$("#system-status-report")).on("click",".js-feedback-details-button",function(){!function($modalContent){var $modal=$(layout({data:$modalContent.html()}));$container.append($modal),$modal.modal({startClosed:!0,minWidth:450}),$modal.modal("open"),$modal.on("closed.modal",function(){$modal.modal("destroy"),$(this).remove()})}($(this).closest(".js-report").find(".js-feedback-details"))}),
tasksStatisticsFactory().render()}}}),define("taoSystemStatus/loader/taoSystemStatus.bundle",function(){});
//# sourceMappingURL=taoSystemStatus.min.js.map